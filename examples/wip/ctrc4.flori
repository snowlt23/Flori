
type Vec[T] $[ctdyn] {
  p Ptr[T]
  len Int
}

fn push[T](v ref Vec[T], value T) {
  ctrc {
    v.p
  }
}

fn vec_eff() File {
  v := vec[File]()
  push(v, open_file("yukari.txt"))
  return v[0]
}
fn vec_eff_once() File { 
  v := vec[once File]()
  push(v, open_file("yukari.txt"))
  return v[0]
  # destructor(v)
}
