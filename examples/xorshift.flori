
(require prelude :refer :all)
(require io :refer :all)

(def x (uint32 123456789))
(def y (uint32 362436069))
(def z (uint32 521288629))
(def w (uint32 88675123))

(defn xor128 [] ^uint32
  (def t (pow x (shl x (uint32 11))))
  (set! x y)
  (set! y z)
  (set! z w)
  (set! w
    (pow
      (pow w (>> w (uint32 19)))
      (pow t (>> t (uint32 8)))))
  w)

(println (xor128))
(println (xor128))
